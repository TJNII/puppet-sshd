class sshd {
  case $operatingsystem {
    centos, redhat: {
      $service_name = 'sshd'
    }
    debian, ubuntu: {
      $service_name = 'ssh'
    }
  }
                                    
  
   file { '/etc/ssh/sshd_config':
      ensure => file,
      mode   => 600,
      source => 'puppet:///modules/sshd/sshd_config',
   }
   
   service { 'ssh':
     name       => $service_name,
     ensure     => running,
     enable     => true,
     subscribe  => File['/etc/ssh/sshd_config'],
   }
   
}
